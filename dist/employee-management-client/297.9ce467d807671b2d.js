"use strict";(self.webpackChunkemployee_management_client=self.webpackChunkemployee_management_client||[]).push([[297],{7297:(R,y,a)=>{a.r(y),a.d(y,{routes:()=>O});var p=a(2200),e=a(3664),i=a(8728),g=a(8886),b=a(9330);let f=(()=>{class n{constructor(t){this.http=t,this.apiUrl="https://localhost:7164/api/Employee"}getAllEmployees(){return this.http.get(this.apiUrl,{responseType:"json"})}getEmployee(t){return this.http.get(`${this.apiUrl}/${t}`)}addEmployee(t){return this.http.post(this.apiUrl,t,{responseType:"json"})}updateEmployee(t){return this.http.put(`${this.apiUrl}/${t.employeeCode}`,t)}deleteEmployee(t){return this.http.delete(`${this.apiUrl}/${t}`)}static#e=this.\u0275fac=function(r){return new(r||n)(i.KVO(b.Qq))};static#t=this.\u0275prov=i.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _(n,c){1&n&&(e.j41(0,"div",6),e.EFF(1,"Loading employees..."),e.k0s())}function C(n,c){if(1&n&&(e.j41(0,"div",7),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.JRh(t.error)}}function E(n,c){if(1&n){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.nI1(13,"date"),e.k0s(),e.j41(14,"td"),e.EFF(15),e.nI1(16,"currency"),e.k0s(),e.j41(17,"td")(18,"button",5),e.bIt("click",function(){const o=i.eBV(t).$implicit,s=e.XpG(2);return i.Njj(s.editEmployee(o.employeeCode))}),e.EFF(19,"Edit"),e.k0s(),e.j41(20,"button",5),e.bIt("click",function(){const o=i.eBV(t).$implicit,s=e.XpG(2);return i.Njj(s.deleteEmployee(o.employeeCode))}),e.EFF(21,"Delete"),e.k0s()()()}if(2&n){const t=c.$implicit;e.R7$(2),e.JRh(t.id),e.R7$(2),e.JRh(t.employeeCode),e.R7$(2),e.JRh(t.fullName),e.R7$(2),e.JRh(t.email),e.R7$(2),e.JRh(t.department),e.R7$(2),e.JRh(e.bMT(13,7,t.dateOfJoining)),e.R7$(3),e.JRh(e.bMT(16,9,t.salary))}}function F(n,c){if(1&n&&(e.j41(0,"table",8)(1,"thead")(2,"tr")(3,"th"),e.EFF(4,"ID"),e.k0s(),e.j41(5,"th"),e.EFF(6,"Employee Code"),e.k0s(),e.j41(7,"th"),e.EFF(8,"Full Name"),e.k0s(),e.j41(9,"th"),e.EFF(10,"Email"),e.k0s(),e.j41(11,"th"),e.EFF(12,"Department"),e.k0s(),e.j41(13,"th"),e.EFF(14,"Date of Joining"),e.k0s(),e.j41(15,"th"),e.EFF(16,"Salary"),e.k0s(),e.j41(17,"th"),e.EFF(18,"Actions"),e.k0s()()(),e.j41(19,"tbody"),e.DNE(20,E,22,11,"tr",9),e.k0s()()),2&n){const t=e.XpG();e.R7$(20),e.Y8G("ngForOf",t.employees)}}function M(n,c){1&n&&(e.j41(0,"div",10),e.EFF(1," No employees found. "),e.k0s())}let j=(()=>{class n{constructor(t,r){this.router=t,this.employeeService=r,this.employees=[],this.isLoading=!0,this.error=null}ngOnInit(){this.loadEmployees()}loadEmployees(){this.isLoading=!0,this.employeeService.getAllEmployees().subscribe({next:t=>{this.employees=t,this.isLoading=!1},error:()=>{this.error="Failed to load employees",this.isLoading=!1}})}addEmployee(){this.router.navigate(["employee/add"])}editEmployee(t){this.router.navigate(["employee/edit",t])}deleteEmployee(t){confirm("Are you sure you want to delete this employee?")&&this.employeeService.deleteEmployee(t).subscribe({next:()=>this.loadEmployees(),error:()=>alert("Delete failed")})}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(g.Ix),e.rXU(f))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-employee-list"]],decls:9,vars:4,consts:[[1,"employee-list-container"],["class","status",4,"ngIf"],["class","status error",4,"ngIf"],["class","employee-table",4,"ngIf"],["class","no-records",4,"ngIf"],[3,"click"],[1,"status"],[1,"status","error"],[1,"employee-table"],[4,"ngFor","ngForOf"],[1,"no-records"]],template:function(r,o){1&r&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Employee List"),e.k0s(),e.DNE(3,_,2,0,"div",1)(4,C,2,1,"div",2)(5,F,21,1,"table",3)(6,M,2,0,"div",4),e.j41(7,"button",5),e.bIt("click",function(){return o.addEmployee()}),e.EFF(8,"Add New Employee"),e.k0s()()),2&r&&(e.R7$(3),e.Y8G("ngIf",o.isLoading),e.R7$(),e.Y8G("ngIf",o.error),e.R7$(),e.Y8G("ngIf",!o.isLoading&&o.employees.length>0),e.R7$(),e.Y8G("ngIf",!o.isLoading&&0===o.employees.length))},dependencies:[p.MD,p.Sq,p.bT,p.oe,p.vh],styles:[".employee-list-container[_ngcontent-%COMP%]{max-width:960px;margin:2rem auto;padding:1.5rem;background-color:#fff;border-radius:8px;box-shadow:0 2px 8px #0000000d}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;font-size:1.75rem;color:#333}.status[_ngcontent-%COMP%]{text-align:center;padding:.75rem;font-weight:500;color:#007acc}.status.error[_ngcontent-%COMP%]{color:#d32f2f}.employee-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:1rem}.employee-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .employee-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #ccc;text-align:left;font-size:.95rem}.employee-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f9f9f9;font-weight:600}.employee-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f4f6f8}.employee-table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:.5rem;padding:.4rem .8rem;font-size:.85rem;border:none;border-radius:4px;cursor:pointer}.employee-table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.85}.employee-table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background-color:#1976d2;color:#fff}.employee-table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background-color:#d32f2f;color:#fff}.no-records[_ngcontent-%COMP%]{text-align:center;font-style:italic;color:#888;margin-bottom:1rem}button[_ngcontent-%COMP%]{display:inline-block;padding:.6rem 1.2rem;background-color:#2e7d32;color:#fff;border:none;border-radius:4px;font-size:.9rem;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#1b5e20}"]})}return n})();var m=a(4341);function k(n,c){if(1&n&&(e.j41(0,"div",20),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.JRh(t.error)}}let h=(()=>{class n{constructor(t,r,o){this.employeeService=t,this.route=r,this.router=o,this.employee={id:0,employeeCode:"",fullName:"",email:"",department:"",dateOfJoining:new Date,salary:0},this.isEditMode=!1,this.isSubmitting=!1,this.error=null}ngOnInit(){const t=this.route.snapshot.paramMap.get("employeeCode");t&&(this.isEditMode=!0,this.employeeService.getEmployee(t).subscribe({next:r=>{this.employee=r},error:()=>{this.error="Failed to load employee"}}))}onSubmit(){this.isSubmitting=!0,(this.isEditMode?this.employeeService.updateEmployee(this.employee):this.employeeService.addEmployee(this.employee)).subscribe({next:()=>{alert(this.isEditMode?"Employee updated successfully!":"Employee added successfully!"),this.router.navigate(["/employee"])},error:()=>{this.error=this.isEditMode?"Update failed":"Creation failed",this.isSubmitting=!1}})}cancel(){this.router.navigate(["/employee"])}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(f),e.rXU(g.nX),e.rXU(g.Ix))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-employee-form"]],decls:35,vars:11,consts:[["employeeForm","ngForm"],[1,"employee-form-container"],[3,"ngSubmit"],[1,"form-group"],["for","employeeCode"],["type","text","id","employeeCode","name","employeeCode","required","",3,"ngModelChange","ngModel"],["for","fullName"],["type","text","id","fullName","name","fullName","required","",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModelChange","ngModel"],["for","department"],["type","text","id","department","name","department","required","",3,"ngModelChange","ngModel"],["for","dateOfJoining"],["type","date","id","dateOfJoining","name","dateOfJoining","required","",3,"ngModelChange","ngModel"],["for","salary"],["type","number","id","salary","name","salary","required","",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],[1,"form-buttons"],["type","submit",3,"disabled"],["type","button",3,"click","disabled"],[1,"error"]],template:function(r,o){if(1&r){const s=e.RV6();e.j41(0,"div",1)(1,"h2"),e.EFF(2),e.k0s(),e.j41(3,"form",2,0),e.bIt("ngSubmit",function(){return i.eBV(s),i.Njj(o.onSubmit())}),e.j41(5,"div",3)(6,"label",4),e.EFF(7,"Employee Code"),e.k0s(),e.j41(8,"input",5),e.mxI("ngModelChange",function(l){return i.eBV(s),e.DH7(o.employee.employeeCode,l)||(o.employee.employeeCode=l),i.Njj(l)}),e.k0s()(),e.j41(9,"div",3)(10,"label",6),e.EFF(11,"Full Name"),e.k0s(),e.j41(12,"input",7),e.mxI("ngModelChange",function(l){return i.eBV(s),e.DH7(o.employee.fullName,l)||(o.employee.fullName=l),i.Njj(l)}),e.k0s()(),e.j41(13,"div",3)(14,"label",8),e.EFF(15,"Email"),e.k0s(),e.j41(16,"input",9),e.mxI("ngModelChange",function(l){return i.eBV(s),e.DH7(o.employee.email,l)||(o.employee.email=l),i.Njj(l)}),e.k0s()(),e.j41(17,"div",3)(18,"label",10),e.EFF(19,"Department"),e.k0s(),e.j41(20,"input",11),e.mxI("ngModelChange",function(l){return i.eBV(s),e.DH7(o.employee.department,l)||(o.employee.department=l),i.Njj(l)}),e.k0s()(),e.j41(21,"div",3)(22,"label",12),e.EFF(23,"Date of Joining"),e.k0s(),e.j41(24,"input",13),e.mxI("ngModelChange",function(l){return i.eBV(s),e.DH7(o.employee.dateOfJoining,l)||(o.employee.dateOfJoining=l),i.Njj(l)}),e.k0s()(),e.j41(25,"div",3)(26,"label",14),e.EFF(27,"Salary"),e.k0s(),e.j41(28,"input",15),e.mxI("ngModelChange",function(l){return i.eBV(s),e.DH7(o.employee.salary,l)||(o.employee.salary=l),i.Njj(l)}),e.k0s()(),e.DNE(29,k,2,1,"div",16),e.j41(30,"div",17)(31,"button",18),e.EFF(32),e.k0s(),e.j41(33,"button",19),e.bIt("click",function(){return i.eBV(s),i.Njj(o.cancel())}),e.EFF(34,"Cancel"),e.k0s()()()()}2&r&&(e.R7$(2),e.JRh(o.isEditMode?"Edit Employee":"Add New Employee"),e.R7$(6),e.R50("ngModel",o.employee.employeeCode),e.R7$(4),e.R50("ngModel",o.employee.fullName),e.R7$(4),e.R50("ngModel",o.employee.email),e.R7$(4),e.R50("ngModel",o.employee.department),e.R7$(4),e.R50("ngModel",o.employee.dateOfJoining),e.R7$(4),e.R50("ngModel",o.employee.salary),e.R7$(),e.Y8G("ngIf",o.error),e.R7$(2),e.Y8G("disabled",o.isSubmitting),e.R7$(),e.SpI(" ",o.isEditMode?"Update":"Add"," "),e.R7$(),e.Y8G("disabled",o.isSubmitting))},dependencies:[p.MD,p.bT,m.YN,m.qT,m.me,m.Q0,m.BC,m.cb,m.YS,m.vS,m.cV],styles:[".form-container[_ngcontent-%COMP%]{max-width:600px;margin:50px auto;padding:25px;border:1px solid #ccc;border-radius:10px;background-color:#fff}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px;font-size:14px;box-sizing:border-box}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px}button[_ngcontent-%COMP%]{padding:10px 16px;border:none;border-radius:5px;background-color:#007bff;color:#fff;font-weight:600;cursor:pointer}button[disabled][_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{background-color:#6c757d}.error[_ngcontent-%COMP%]{color:red;margin-top:10px;text-align:center}"]})}return n})();var u=a(9229);const O=[{path:"",component:j,canActivate:[u.W]},{path:"add",component:h,canActivate:[u.W]},{path:"edit/:employeeCode",component:h,canActivate:[u.W]}]}}]);